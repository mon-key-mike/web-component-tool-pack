{"version":3,"file":"addVersion.umd.js","sources":["../src/addVersion.mjs","../src/getPks.mjs","../src/setPks.mjs"],"sourcesContent":["import _ from 'lodash'\r\nimport getPks from './getPks.mjs'\r\nimport setPks from './setPks.mjs'\r\n\r\n\r\n/**\r\n * 自動添加package.json內版本補丁號\r\n *\r\n */\r\nfunction addVersion(fnPks = './package.json') {\r\n\r\n    //pks\r\n    let pks = getPks(fnPks)\r\n\r\n    //v\r\n    let v = pks.version\r\n    let s = _.split(v, '.')\r\n    s[2] = _.toString(_.toNumber(s[2]) + 1)\r\n    pks.version = _.join(s, '.')\r\n\r\n    //save\r\n    setPks(pks, fnPks)\r\n\r\n    console.log('now version: ' + pks.version)\r\n\r\n}\r\n\r\n\r\nexport default addVersion\r\n","import fs from 'fs'\r\n\r\n\r\n/**\r\n * 取得package.json資料物件\r\n *\r\n * @param {string} [fn='./package.json'] 輸入package.json路徑字串\r\n * @returns {Object} 回傳資料物件\r\n */\r\nfunction getPks(fn = './package.json') {\r\n    let c = fs.readFileSync(fn, 'utf8')\r\n    return JSON.parse(c)\r\n}\r\n\r\n\r\nexport default getPks\r\n","import fs from 'fs'\r\n\r\n\r\n/**\r\n * 儲存資料至package.json\r\n *\r\n * @param {Object} pks 輸入package.json資料物件\r\n * @param {string} [fn='./package.json'] 輸入package.json路徑字串\r\n */\r\nfunction setPks(pks, fn = './package.json') {\r\n    let c = JSON.stringify(pks, null, 2)\r\n    fs.writeFileSync(fn, c, 'utf8')\r\n}\r\n\r\n\r\nexport default setPks\r\n"],"names":["fnPks","pks","fn","c","fs","readFileSync","JSON","parse","getPks","v","version","s","_","split","toString","toNumber","join","stringify","writeFileSync","setPks","console","log"],"mappings":";;;;;iWASA,eAAoBA,yDAAQ,iBAGpBC,ECHR,eAAgBC,yDAAK,iBACbC,EAAIC,EAAGC,aAAaH,EAAI,eACrBI,KAAKC,MAAMJ,GDCRK,CAAOR,GAGbS,EAAIR,EAAIS,QACRC,EAAIC,EAAEC,MAAMJ,EAAG,KACnBE,EAAE,GAAKC,EAAEE,SAASF,EAAEG,SAASJ,EAAE,IAAM,GACrCV,EAAIS,QAAUE,EAAEI,KAAKL,EAAG,KET5B,SAAgBV,OAAKC,yDAAK,iBAClBC,EAAIG,KAAKW,UAAUhB,EAAK,KAAM,GAClCG,EAAGc,cAAchB,EAAIC,EAAG,QFUxBgB,CAAOlB,EAAKD,GAEZoB,QAAQC,IAAI,gBAAkBpB,EAAIS"}