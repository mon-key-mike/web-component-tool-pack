{"version":3,"file":"modifyReadme.umd.js","sources":["../src/modifyReadme.mjs","../src/getPks.mjs","../src/getReadme.mjs"],"sourcesContent":["import fs from 'fs'\r\nimport getPks from './getPks.mjs'\r\nimport getReadme from './getReadme.mjs'\r\n\r\n\r\n/**\r\n * 更新readme內cdn連結為最新版本\r\n *\r\n * @param {string} [fnRM='./README.md'] 輸入readme檔案路徑字串\r\n */\r\nfunction modifyReadme(fnRM = './README.md', fnPks = './package.json') {\r\n\r\n    //pks\r\n    let pks = getPks(fnPks)\r\n\r\n    //rdme\r\n    let rdme = getReadme(fnRM)\r\n\r\n    //replace\r\n    let sf = `(${pks.name}@)+(\\\\d+.\\\\d+.\\\\d+)`\r\n    let sr = `${pks.name}@${pks.version}`\r\n    let reg = new RegExp(sf, 'g')\r\n    let c = rdme.content.replace(reg, sr)\r\n\r\n    //write\r\n    //console.log(c)\r\n    fs.writeFileSync(fnRM, c, 'utf8')\r\n\r\n}\r\n\r\n\r\nexport default modifyReadme\r\n","import fs from 'fs'\r\n\r\n\r\n/**\r\n * 取得package.json資料物件\r\n *\r\n * @param {string} [fn='./package.json'] 輸入package.json路徑字串\r\n * @returns {Object} 回傳資料物件\r\n */\r\nfunction getPks(fn = './package.json') {\r\n    let c = fs.readFileSync(fn, 'utf8')\r\n    return JSON.parse(c)\r\n}\r\n\r\n\r\nexport default getPks\r\n","import fs from 'fs'\r\nimport _ from 'lodash'\r\n\r\n\r\n/**\r\n * 讀取readme資料物件\r\n *\r\n * @param {string} [fn='./README.md'] 輸入readme檔案路徑字串\r\n * @returns {Object} 回傳readme資料物件\r\n */\r\nfunction getReadme(fn = './README.md') {\r\n    let c = fs.readFileSync(fn, 'utf8')\r\n    return {\r\n        content: c,\r\n        lines: _.split(c, '\\r\\n')\r\n    }\r\n}\r\n\r\n\r\nexport default getReadme\r\n"],"names":["fnRM","pks","fn","c","fs","readFileSync","JSON","parse","getPks","rdme","content","lines","_","split","getReadme","sf","name","sr","version","reg","RegExp","replace","writeFileSync"],"mappings":";;;;;mWAUA,eAAsBA,yDAAO,cAGrBC,ECJR,eAAgBC,yDAAK,iBACbC,EAAIC,EAAGC,aAAaH,EAAI,eACrBI,KAAKC,MAAMJ,GDERK,wDAHsC,kBAM5CC,EENR,eAAmBP,yDAAK,cAChBC,EAAIC,EAAGC,aAAaH,EAAI,cACrB,CACHQ,QAASP,EACTQ,MAAOC,EAAEC,MAAMV,EAAG,SFEXW,CAAUd,GAGjBe,aAASd,EAAIe,4BACbC,YAAQhB,EAAIe,iBAAQf,EAAIiB,SACxBC,EAAM,IAAIC,OAAOL,EAAI,KACrBZ,EAAIM,EAAKC,QAAQW,QAAQF,EAAKF,GAIlCb,EAAGkB,cAActB,EAAMG,EAAG"}