!function(I,g){"object"==typeof exports&&"undefined"!=typeof module?module.exports=g(require("worker_threads")):"function"==typeof define&&define.amd?define(["worker_threads"],g):(I="undefined"!=typeof globalThis?globalThis:I||self).gWorker4_FunEv=g(I.worker_threads)}(this,(function(I){"use strict";function g(I){return I&&"object"==typeof I&&"default"in I?I:{default:I}}var C=g(I);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function t(I){var g={exports:{}};return I(g,g.exports),g.exports}var l=t((function(I,g){var t,l,c;I.exports=(t=C.default,c=function(I){var g={exports:{}};return I(g,g.exports),g.exports}((function(I){var g=Object.prototype.hasOwnProperty,C="~";function t(){}function l(I,g,C){this.fn=I,this.context=g,this.once=C||!1}function c(I,g,t,c,i){if("function"!=typeof t)throw new TypeError("The listener must be a function");var d=new l(t,c||I,i),n=C?C+g:g;return I._events[n]?I._events[n].fn?I._events[n]=[I._events[n],d]:I._events[n].push(d):(I._events[n]=d,I._eventsCount++),I}function i(I,g){0==--I._eventsCount?I._events=new t:delete I._events[g]}function d(){this._events=new t,this._eventsCount=0}Object.create&&(t.prototype=Object.create(null),(new t).__proto__||(C=!1)),d.prototype.eventNames=function(){var I,t,l=[];if(0===this._eventsCount)return l;for(t in I=this._events)g.call(I,t)&&l.push(C?t.slice(1):t);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(I)):l},d.prototype.listeners=function(I){var g=C?C+I:I,t=this._events[g];if(!t)return[];if(t.fn)return[t.fn];for(var l=0,c=t.length,i=new Array(c);l<c;l++)i[l]=t[l].fn;return i},d.prototype.listenerCount=function(I){var g=C?C+I:I,t=this._events[g];return t?t.fn?1:t.length:0},d.prototype.emit=function(I,g,t,l,c,i){var d=C?C+I:I;if(!this._events[d])return!1;var n,Z,e=this._events[d],m=arguments.length;if(e.fn){switch(e.once&&this.removeListener(I,e.fn,void 0,!0),m){case 1:return e.fn.call(e.context),!0;case 2:return e.fn.call(e.context,g),!0;case 3:return e.fn.call(e.context,g,t),!0;case 4:return e.fn.call(e.context,g,t,l),!0;case 5:return e.fn.call(e.context,g,t,l,c),!0;case 6:return e.fn.call(e.context,g,t,l,c,i),!0}for(Z=1,n=new Array(m-1);Z<m;Z++)n[Z-1]=arguments[Z];e.fn.apply(e.context,n)}else{var b,A=e.length;for(Z=0;Z<A;Z++)switch(e[Z].once&&this.removeListener(I,e[Z].fn,void 0,!0),m){case 1:e[Z].fn.call(e[Z].context);break;case 2:e[Z].fn.call(e[Z].context,g);break;case 3:e[Z].fn.call(e[Z].context,g,t);break;case 4:e[Z].fn.call(e[Z].context,g,t,l);break;default:if(!n)for(b=1,n=new Array(m-1);b<m;b++)n[b-1]=arguments[b];e[Z].fn.apply(e[Z].context,n)}}return!0},d.prototype.on=function(I,g,C){return c(this,I,g,C,!1)},d.prototype.once=function(I,g,C){return c(this,I,g,C,!0)},d.prototype.removeListener=function(I,g,t,l){var c=C?C+I:I;if(!this._events[c])return this;if(!g)return i(this,c),this;var d=this._events[c];if(d.fn)d.fn!==g||l&&!d.once||t&&d.context!==t||i(this,c);else{for(var n=0,Z=[],e=d.length;n<e;n++)(d[n].fn!==g||l&&!d[n].once||t&&d[n].context!==t)&&Z.push(d[n]);Z.length?this._events[c]=1===Z.length?Z[0]:Z:i(this,c)}return this},d.prototype.removeAllListeners=function(I){var g;return I?(g=C?C+I:I,this._events[g]&&i(this,g)):(this._events=new t,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=C,d.EventEmitter=d,I.exports=d})),function(){if("nodejs"!=("undefined"!=typeof window&&void 0!==window.document?"browser":"nodejs"))return null;function I(){return new c}function g(){var I,g,C=new Promise((function(){I=arguments[0],g=arguments[1]}));return C.resolve=I,C.reject=g,C}function C(){for(var I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,g=[],C="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),t=C.length,l=0;l<I;l++)g[l]=C[0|Math.random()*t];return g.join("")}var i,d=(i="CgogICAgICAgIGxldCB7IHBhcmVudFBvcnQgfSA9IHJlcXVpcmUoJ3dvcmtlcl90aHJlYWRzJykKICAgICAgICAKCnZhciB0PSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6e307dmFyIGU9Im9iamVjdCI9PXR5cGVvZiB0JiZ0JiZ0Lk9iamVjdD09PU9iamVjdCYmdCxuPSJvYmplY3QiPT10eXBlb2Ygc2VsZiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYscj0oZXx8bnx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKSkuU3ltYm9sO3ZhciBvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPS0xLHI9bnVsbD09dD8wOnQubGVuZ3RoLG89QXJyYXkocik7KytuPHI7KW9bbl09ZSh0W25dLG4sdCk7cmV0dXJuIG99LGY9QXJyYXkuaXNBcnJheSx1PU9iamVjdC5wcm90b3R5cGUsaT11Lmhhc093blByb3BlcnR5LGM9dS50b1N0cmluZyxhPXI/ci50b1N0cmluZ1RhZzp2b2lkIDA7dmFyIHM9ZnVuY3Rpb24odCl7dmFyIGU9aS5jYWxsKHQsYSksbj10W2FdO3RyeXt0W2FdPXZvaWQgMDt2YXIgcj0hMH1jYXRjaCh0KXt9dmFyIG89Yy5jYWxsKHQpO3JldHVybiByJiYoZT90W2FdPW46ZGVsZXRlIHRbYV0pLG99LGw9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzt2YXIgdj1mdW5jdGlvbih0KXtyZXR1cm4gbC5jYWxsKHQpfSxwPXI/ci50b1N0cmluZ1RhZzp2b2lkIDA7dmFyIGQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwPT09dD8iW29iamVjdCBVbmRlZmluZWRdIjoiW29iamVjdCBOdWxsXSI6cCYmcCBpbiBPYmplY3QodCk/cyh0KTp2KHQpfTt2YXIgaD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dCYmIm9iamVjdCI9PXR5cGVvZiB0fTt2YXIgeT1mdW5jdGlvbih0KXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIHR8fGgodCkmJiJbb2JqZWN0IFN5bWJvbF0iPT1kKHQpfSxiPXI/ci5wcm90b3R5cGU6dm9pZCAwLGc9Yj9iLnRvU3RyaW5nOnZvaWQgMDt2YXIgXz1mdW5jdGlvbiB0KGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZTtpZihmKGUpKXJldHVybiBvKGUsdCkrIiI7aWYoeShlKSlyZXR1cm4gZz9nLmNhbGwoZSk6IiI7dmFyIG49ZSsiIjtyZXR1cm4iMCI9PW4mJjEvZT09LUluZmluaXR5PyItMCI6bn0sbT0vXHMvO3ZhciB4PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aDtlLS0mJm0udGVzdCh0LmNoYXJBdChlKSk7KTtyZXR1cm4gZX0saj0vXlxzKy87dmFyIHc9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dC5zbGljZSgwLHgodCkrMSkucmVwbGFjZShqLCIiKTp0fTt2YXIgTz1mdW5jdGlvbih0LGUsbil7dmFyIHI9LTEsbz10Lmxlbmd0aDtlPDAmJihlPS1lPm8/MDpvK2UpLChuPW4+bz9vOm4pPDAmJihuKz1vKSxvPWU+bj8wOm4tZT4+PjAsZT4+Pj0wO2Zvcih2YXIgZj1BcnJheShvKTsrK3I8bzspZltyXT10W3IrZV07cmV0dXJuIGZ9O3ZhciBBPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10Lmxlbmd0aDtyZXR1cm4gbj12b2lkIDA9PT1uP3I6biwhZSYmbj49cj90Ok8odCxlLG4pfTt2YXIgUz1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIG89dC5sZW5ndGgsZj1uKyhyPzE6LTEpO3I/Zi0tOisrZjxvOylpZihlKHRbZl0sZix0KSlyZXR1cm4gZjtyZXR1cm4tMX07dmFyIFQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQhPXR9O3ZhciBDPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9bi0xLG89dC5sZW5ndGg7KytyPG87KWlmKHRbcl09PT1lKXJldHVybiByO3JldHVybi0xfTt2YXIgTD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGU9PWU/Qyh0LGUsbik6Uyh0LFQsbil9O3ZhciBSPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoO24tLSYmTChlLHRbbl0sMCk+LTE7KTtyZXR1cm4gbn07dmFyIEU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49LTEscj10Lmxlbmd0aDsrK248ciYmTChlLHRbbl0sMCk+LTE7KTtyZXR1cm4gbn07dmFyIFA9ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3BsaXQoIiIpfSxrPVJlZ0V4cCgiW1xcdTIwMGRcXHVkODAwLVxcdWRmZmZcXHUwMzAwLVxcdTAzNmZcXHVmZTIwLVxcdWZlMmZcXHUyMGQwLVxcdTIwZmZcXHVmZTBlXFx1ZmUwZl0iKTt2YXIgJD1mdW5jdGlvbih0KXtyZXR1cm4gay50ZXN0KHQpfSxOPSJbXFx1ZDgwMC1cXHVkZmZmXSIsRj0iW1xcdTAzMDAtXFx1MDM2ZlxcdWZlMjAtXFx1ZmUyZlxcdTIwZDAtXFx1MjBmZl0iLEk9IlxcdWQ4M2NbXFx1ZGZmYi1cXHVkZmZmXSIsVT0iW15cXHVkODAwLVxcdWRmZmZdIixxPSIoPzpcXHVkODNjW1xcdWRkZTYtXFx1ZGRmZl0pezJ9Iix6PSJbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdIixCPSIoPzoiK0YrInwiK0krIikiKyI/IixEPSJbXFx1ZmUwZVxcdWZlMGZdPyIrQisoIig/OlxcdTIwMGQoPzoiK1tVLHEsel0uam9pbigifCIpKyIpW1xcdWZlMGVcXHVmZTBmXT8iK0IrIikqIiksRz0iKD86IitbVStGKyI/IixGLHEseixOXS5qb2luKCJ8IikrIikiLEg9UmVnRXhwKEkrIig/PSIrSSsiKXwiK0crRCwiZyIpO3ZhciBKPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hdGNoKEgpfHxbXX07dmFyIEs9ZnVuY3Rpb24odCl7cmV0dXJuICQodCk/Sih0KTpQKHQpfTt2YXIgTT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD8iIjpfKHQpfTt2YXIgUSxWPWZ1bmN0aW9uKHQsZSxuKXtpZigodD1NKHQpKSYmKG58fHZvaWQgMD09PWUpKXJldHVybiB3KHQpO2lmKCF0fHwhKGU9XyhlKSkpcmV0dXJuIHQ7dmFyIHI9Syh0KSxvPUsoZSksZj1FKHIsbyksdT1SKHIsbykrMTtyZXR1cm4gQShyLGYsdSkuam9pbigiIil9LFc9KGZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbj0ifiI7ZnVuY3Rpb24gcigpe31mdW5jdGlvbiBvKHQsZSxuKXt0aGlzLmZuPXQsdGhpcy5jb250ZXh0PWUsdGhpcy5vbmNlPW58fCExfWZ1bmN0aW9uIGYodCxlLHIsZix1KXtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7dmFyIGk9bmV3IG8ocixmfHx0LHUpLGM9bj9uK2U6ZTtyZXR1cm4gdC5fZXZlbnRzW2NdP3QuX2V2ZW50c1tjXS5mbj90Ll9ldmVudHNbY109W3QuX2V2ZW50c1tjXSxpXTp0Ll9ldmVudHNbY10ucHVzaChpKToodC5fZXZlbnRzW2NdPWksdC5fZXZlbnRzQ291bnQrKyksdH1mdW5jdGlvbiB1KHQsZSl7MD09LS10Ll9ldmVudHNDb3VudD90Ll9ldmVudHM9bmV3IHI6ZGVsZXRlIHQuX2V2ZW50c1tlXX1mdW5jdGlvbiBpKCl7dGhpcy5fZXZlbnRzPW5ldyByLHRoaXMuX2V2ZW50c0NvdW50PTB9T2JqZWN0LmNyZWF0ZSYmKHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobnVsbCksKG5ldyByKS5fX3Byb3RvX198fChuPSExKSksaS5wcm90b3R5cGUuZXZlbnROYW1lcz1mdW5jdGlvbigpe3ZhciB0LHIsbz1bXTtpZigwPT09dGhpcy5fZXZlbnRzQ291bnQpcmV0dXJuIG87Zm9yKHIgaW4gdD10aGlzLl9ldmVudHMpZS5jYWxsKHQscikmJm8ucHVzaChuP3Iuc2xpY2UoMSk6cik7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/by5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KSk6b30saS5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3ZhciBlPW4/bit0OnQscj10aGlzLl9ldmVudHNbZV07aWYoIXIpcmV0dXJuW107aWYoci5mbilyZXR1cm5bci5mbl07Zm9yKHZhciBvPTAsZj1yLmxlbmd0aCx1PW5ldyBBcnJheShmKTtvPGY7bysrKXVbb109cltvXS5mbjtyZXR1cm4gdX0saS5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1mdW5jdGlvbih0KXt2YXIgZT1uP24rdDp0LHI9dGhpcy5fZXZlbnRzW2VdO3JldHVybiByP3IuZm4/MTpyLmxlbmd0aDowfSxpLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQsZSxyLG8sZix1KXt2YXIgaT1uP24rdDp0O2lmKCF0aGlzLl9ldmVudHNbaV0pcmV0dXJuITE7dmFyIGMsYSxzPXRoaXMuX2V2ZW50c1tpXSxsPWFyZ3VtZW50cy5sZW5ndGg7aWYocy5mbil7c3dpdGNoKHMub25jZSYmdGhpcy5yZW1vdmVMaXN0ZW5lcih0LHMuZm4sdm9pZCAwLCEwKSxsKXtjYXNlIDE6cmV0dXJuIHMuZm4uY2FsbChzLmNvbnRleHQpLCEwO2Nhc2UgMjpyZXR1cm4gcy5mbi5jYWxsKHMuY29udGV4dCxlKSwhMDtjYXNlIDM6cmV0dXJuIHMuZm4uY2FsbChzLmNvbnRleHQsZSxyKSwhMDtjYXNlIDQ6cmV0dXJuIHMuZm4uY2FsbChzLmNvbnRleHQsZSxyLG8pLCEwO2Nhc2UgNTpyZXR1cm4gcy5mbi5jYWxsKHMuY29udGV4dCxlLHIsbyxmKSwhMDtjYXNlIDY6cmV0dXJuIHMuZm4uY2FsbChzLmNvbnRleHQsZSxyLG8sZix1KSwhMH1mb3IoYT0xLGM9bmV3IEFycmF5KGwtMSk7YTxsO2ErKyljW2EtMV09YXJndW1lbnRzW2FdO3MuZm4uYXBwbHkocy5jb250ZXh0LGMpfWVsc2V7dmFyIHYscD1zLmxlbmd0aDtmb3IoYT0wO2E8cDthKyspc3dpdGNoKHNbYV0ub25jZSYmdGhpcy5yZW1vdmVMaXN0ZW5lcih0LHNbYV0uZm4sdm9pZCAwLCEwKSxsKXtjYXNlIDE6c1thXS5mbi5jYWxsKHNbYV0uY29udGV4dCk7YnJlYWs7Y2FzZSAyOnNbYV0uZm4uY2FsbChzW2FdLmNvbnRleHQsZSk7YnJlYWs7Y2FzZSAzOnNbYV0uZm4uY2FsbChzW2FdLmNvbnRleHQsZSxyKTticmVhaztjYXNlIDQ6c1thXS5mbi5jYWxsKHNbYV0uY29udGV4dCxlLHIsbyk7YnJlYWs7ZGVmYXVsdDppZighYylmb3Iodj0xLGM9bmV3IEFycmF5KGwtMSk7djxsO3YrKyljW3YtMV09YXJndW1lbnRzW3ZdO3NbYV0uZm4uYXBwbHkoc1thXS5jb250ZXh0LGMpfX1yZXR1cm4hMH0saS5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmKHRoaXMsdCxlLG4sITEpfSxpLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZih0aGlzLHQsZSxuLCEwKX0saS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24odCxlLHIsbyl7dmFyIGY9bj9uK3Q6dDtpZighdGhpcy5fZXZlbnRzW2ZdKXJldHVybiB0aGlzO2lmKCFlKXJldHVybiB1KHRoaXMsZiksdGhpczt2YXIgaT10aGlzLl9ldmVudHNbZl07aWYoaS5mbilpLmZuIT09ZXx8byYmIWkub25jZXx8ciYmaS5jb250ZXh0IT09cnx8dSh0aGlzLGYpO2Vsc2V7Zm9yKHZhciBjPTAsYT1bXSxzPWkubGVuZ3RoO2M8cztjKyspKGlbY10uZm4hPT1lfHxvJiYhaVtjXS5vbmNlfHxyJiZpW2NdLmNvbnRleHQhPT1yKSYmYS5wdXNoKGlbY10pO2EubGVuZ3RoP3RoaXMuX2V2ZW50c1tmXT0xPT09YS5sZW5ndGg/YVswXTphOnUodGhpcyxmKX1yZXR1cm4gdGhpc30saS5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0PyhlPW4/bit0OnQsdGhpcy5fZXZlbnRzW2VdJiZ1KHRoaXMsZSkpOih0aGlzLl9ldmVudHM9bmV3IHIsdGhpcy5fZXZlbnRzQ291bnQ9MCksdGhpc30saS5wcm90b3R5cGUub2ZmPWkucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLGkucHJvdG90eXBlLmFkZExpc3RlbmVyPWkucHJvdG90eXBlLm9uLGkucHJlZml4ZWQ9bixpLkV2ZW50RW1pdHRlcj1pLHQuZXhwb3J0cz1pfShRPXtleHBvcnRzOnt9fSxRLmV4cG9ydHMpLFEuZXhwb3J0cyk7ZnVuY3Rpb24gZ1dvcmtlcjRfRnVuRXYodCxlKXtsZXQgbj1uZXcgVzthc3luYyBmdW5jdGlvbiByKHQsZSl7cmV0dXJuIG4uZW1pdCgiZXYtZGRkIixgZW1pdCBkYXRhIHAxPScke3R9JywgcDI9JyR7ZX0nYCksImRkZFJlcyBlbWl0LWV2ZW50In1yZXR1cm4gc2V0VGltZW91dCgoKCk9PntyKGAke3R9fiR7ZX1gLCJjYWxsIGJ5IHNldFRpbWVvdXQoMTAwMG1zKSIpfSksMWUzKSxuLmFhYT1hc3luYyBmdW5jdGlvbih0KXtyZXR1cm4iYWFhUmVzIHAgWyIrdCsiXSBwIitWKCIgW3RyaW1dICIpfSxuLmJiYj1hc3luYyBmdW5jdGlvbih0LGUpe3JldHVybiB0PD1lPyJiYmJSZXMgcDE8PXAyIjpQcm9taXNlLnJlamVjdCgiYmJiUmVzIHAxPnAyIil9LG4uY2NjPWFzeW5jIGZ1bmN0aW9uKHQpe2xldCBlPTE7Zm9yKGxldCBuPTA7bjx0O24rKyllKz0xLGUtPTEsZSo9NS41LGUvPTUuNTtyZXR1cm4ibm8uPSIrdCsiLCByPSIrZX0sbi5kZGQ9cixufQoKbGV0IGluc3RhbmNlID0gbnVsbApmdW5jdGlvbiBpbml0KGlucHV0KXsKCiAgICAvL2luaXQKICAgIGxldCByCiAgICAKICAgICAgICByID0gZ1dvcmtlcjRfRnVuRXYoLi4uaW5wdXQpCiAgICAgICAgCgogICAgLy9vbgogICAgCgogICAgci5vbignZXYtZGRkJywobXNnKSA9PiB7CgogICAgICAgIC8vc2VuZE1lc3NhZ2UKICAgICAgICBsZXQgcmVzID0gewogICAgICAgICAgICBtb2RlOiAnZW1pdCcsCiAgICAgICAgICAgIGV2TmFtZTogJ2V2LWRkZCcsCiAgICAgICAgICAgIG1zZywKICAgICAgICB9CiAgICAgICAgc2VuZE1lc3NhZ2UocmVzKQoKICAgIH0pCgoKCiAgICAvL3NhdmUKICAgIGluc3RhbmNlID0gcgoKfQoKZnVuY3Rpb24gc2VuZE1lc3NhZ2UoZGF0YSkgewogICAgCiAgICAgICAgcGFyZW50UG9ydC5wb3N0TWVzc2FnZShkYXRhKQogICAgICAgIAp9Cgphc3luYyBmdW5jdGlvbiBydW4oZGF0YSkgewogICAgLy8gY29uc29sZS5sb2coJ2lubmVyIHdvcmtlciBydW4nLGRhdGEpCgogICAgLy9tb2RlCiAgICBsZXQgbW9kZSA9IGRhdGEubW9kZQoKICAgIC8vY2hlY2sKICAgIGlmKG1vZGUgIT09ICdpbml0JyAmJiBtb2RlICE9PSAnY2FsbCcpewogICAgICAgIHJldHVybgogICAgfQoKICAgIC8vaW5pdAogICAgaWYobW9kZSA9PT0gJ2luaXQnKXsKICAgICAgICAKICAgICAgICB0cnl7CgogICAgICAgICAgICAvL3R5cGUKICAgICAgICAgICAgbGV0IHR5cGUgPSBkYXRhLnR5cGUKCiAgICAgICAgICAgIC8vaW5wdXQKICAgICAgICAgICAgbGV0IGlucHV0ID0gZGF0YS5pbnB1dAogICAgCiAgICAgICAgICAgIC8vaW5zdGFuY2UKICAgICAgICAgICAgaWYodHlwZSA9PT0gJ2Z1bmN0aW9uJyl7CiAgICAgICAgICAgICAgICBpbml0KC4uLmlucHV0KQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYodHlwZSA9PT0gJ29iamVjdCcpewogICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBnV29ya2VyNF9GdW5FdgogICAgICAgICAgICB9CgogICAgICAgIH0KICAgICAgICBjYXRjaChlcnIpewogICAgICAgIAogICAgICAgICAgICAvL3NlbmRNZXNzYWdlCiAgICAgICAgICAgIGxldCByZXMgPSB7CiAgICAgICAgICAgICAgICBtb2RlOiAnZW1pdCcsCiAgICAgICAgICAgICAgICBldk5hbWU6ICdlcnJvcicsCiAgICAgICAgICAgICAgICBtc2c6IGVyciwKICAgICAgICAgICAgfQogICAgICAgICAgICBzZW5kTWVzc2FnZShyZXMpCgogICAgICAgIH0KICAgICAgICAgICAgCiAgICB9CgogICAgLy9jaGVjawogICAgaWYobW9kZSA9PT0gJ2NhbGwnKXsKICAgICAgICBsZXQgc3RhdGUgPSAnJwogICAgICAgIGxldCBtc2cgPSBudWxsCgogICAgICAgIHRyeXsKCiAgICAgICAgICAgIC8vZnVuCiAgICAgICAgICAgIGxldCBmdW4gPSBpbnN0YW5jZVtkYXRhLmZ1bl0KCiAgICAgICAgICAgIC8vaW5wdXQKICAgICAgICAgICAgbGV0IGlucHV0ID0gZGF0YS5pbnB1dAoKICAgICAgICAgICAgLy9leGVjCiAgICAgICAgICAgIGF3YWl0IGZ1biguLi5pbnB1dCkKICAgICAgICAgICAgICAgIC50aGVuKChzdWMpID0+IHsKICAgICAgICAgICAgICAgICAgICBzdGF0ZT0nc3VjY2VzcycKICAgICAgICAgICAgICAgICAgICBtc2c9c3VjCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgICAgICAgICBzdGF0ZT0nZXJyb3InCiAgICAgICAgICAgICAgICAgICAgbXNnPWVycgogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgfQogICAgICAgIGNhdGNoKGVycil7CiAgICAgICAgICAgIHN0YXRlID0gJ2Vycm9yJwogICAgICAgICAgICBtc2cgPSBlcnIKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy9zZW5kTWVzc2FnZQogICAgICAgIGxldCByZXMgPSB7CiAgICAgICAgICAgIG1vZGU6ICdyZXR1cm4nLAogICAgICAgICAgICBpZDogZGF0YS5pZCwKICAgICAgICAgICAgZnVuOiBkYXRhLmZ1biwKICAgICAgICAgICAgc3RhdGUsCiAgICAgICAgICAgIG1zZywKICAgICAgICB9CiAgICAgICAgc2VuZE1lc3NhZ2UocmVzKQoKICAgIH0KCn0KCmZ1bmN0aW9uIHJlY3ZNZXNzYWdlKGRhdGEpIHsKICAgIC8vIGNvbnNvbGUubG9nKCdpbm5lciB3b3JrZXIgcmVjdjonLCBkYXRhKQoKICAgIC8vZGF0YVJlY3YKICAgIGxldCBkYXRhUmVjdiA9IGRhdGEKCiAgICAvL3J1bgogICAgcnVuKGRhdGFSZWN2KQoKfQoKCiAgICAgICAgcGFyZW50UG9ydC5vbignbWVzc2FnZScsIHJlY3ZNZXNzYWdlKQogICAgICAgIAoK",Buffer.from(i,"base64").toString("ascii"));l=function(){var l=I();function c(I){try{return new t.Worker(I,{eval:!0})}catch(I){u(I)}}var i=c(d);if(!i)return u("invalid worker"),null;function n(){i?(i.terminate(),i=void 0):u("worker has been terminated")}function Z(){var I={mode:"init",type:"function",input:Array.prototype.slice.call(arguments)};i.postMessage(I)}function e(){var I=g(),t=C(),c={mode:"call",id:t,fun:"aaa",input:Array.prototype.slice.call(arguments)};return i.postMessage(c),l.once(t,(function(g){"success"===g.state?I.resolve(g.msg):I.reject(g.msg)})),I}function m(){var I=g(),t=C(),c={mode:"call",id:t,fun:"bbb",input:Array.prototype.slice.call(arguments)};return i.postMessage(c),l.once(t,(function(g){"success"===g.state?I.resolve(g.msg):I.reject(g.msg)})),I}function b(){var I=g(),t=C(),c={mode:"call",id:t,fun:"ccc",input:Array.prototype.slice.call(arguments)};return i.postMessage(c),l.once(t,(function(g){"success"===g.state?I.resolve(g.msg):I.reject(g.msg)})),I}function A(){var I=g(),t=C(),c={mode:"call",id:t,fun:"ddd",input:Array.prototype.slice.call(arguments)};return i.postMessage(c),l.once(t,(function(g){"success"===g.state?I.resolve(g.msg):I.reject(g.msg)})),I}function o(I){var g=I,C=g.mode;"emit"!==C&&"return"!==C||("emit"===C&&l.emit(g.evName,g.msg),"return"===C&&l.emit(g.id,g))}function u(I){l.emit("error",I)}return i.on("message",o),i.on("error",u),Z(Array.prototype.slice.call(arguments)),l.aaa=e,l.bbb=m,l.ccc=b,l.ddd=A,l.terminate=n,l}}(),l)})),c=t((function(I,g){var C,t;I.exports=(t=function(I){var g={exports:{}};return I(g,g.exports),g.exports}((function(I){var g=Object.prototype.hasOwnProperty,C="~";function t(){}function l(I,g,C){this.fn=I,this.context=g,this.once=C||!1}function c(I,g,t,c,i){if("function"!=typeof t)throw new TypeError("The listener must be a function");var d=new l(t,c||I,i),n=C?C+g:g;return I._events[n]?I._events[n].fn?I._events[n]=[I._events[n],d]:I._events[n].push(d):(I._events[n]=d,I._eventsCount++),I}function i(I,g){0==--I._eventsCount?I._events=new t:delete I._events[g]}function d(){this._events=new t,this._eventsCount=0}Object.create&&(t.prototype=Object.create(null),(new t).__proto__||(C=!1)),d.prototype.eventNames=function(){var I,t,l=[];if(0===this._eventsCount)return l;for(t in I=this._events)g.call(I,t)&&l.push(C?t.slice(1):t);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(I)):l},d.prototype.listeners=function(I){var g=C?C+I:I,t=this._events[g];if(!t)return[];if(t.fn)return[t.fn];for(var l=0,c=t.length,i=new Array(c);l<c;l++)i[l]=t[l].fn;return i},d.prototype.listenerCount=function(I){var g=C?C+I:I,t=this._events[g];return t?t.fn?1:t.length:0},d.prototype.emit=function(I,g,t,l,c,i){var d=C?C+I:I;if(!this._events[d])return!1;var n,Z,e=this._events[d],m=arguments.length;if(e.fn){switch(e.once&&this.removeListener(I,e.fn,void 0,!0),m){case 1:return e.fn.call(e.context),!0;case 2:return e.fn.call(e.context,g),!0;case 3:return e.fn.call(e.context,g,t),!0;case 4:return e.fn.call(e.context,g,t,l),!0;case 5:return e.fn.call(e.context,g,t,l,c),!0;case 6:return e.fn.call(e.context,g,t,l,c,i),!0}for(Z=1,n=new Array(m-1);Z<m;Z++)n[Z-1]=arguments[Z];e.fn.apply(e.context,n)}else{var b,A=e.length;for(Z=0;Z<A;Z++)switch(e[Z].once&&this.removeListener(I,e[Z].fn,void 0,!0),m){case 1:e[Z].fn.call(e[Z].context);break;case 2:e[Z].fn.call(e[Z].context,g);break;case 3:e[Z].fn.call(e[Z].context,g,t);break;case 4:e[Z].fn.call(e[Z].context,g,t,l);break;default:if(!n)for(b=1,n=new Array(m-1);b<m;b++)n[b-1]=arguments[b];e[Z].fn.apply(e[Z].context,n)}}return!0},d.prototype.on=function(I,g,C){return c(this,I,g,C,!1)},d.prototype.once=function(I,g,C){return c(this,I,g,C,!0)},d.prototype.removeListener=function(I,g,t,l){var c=C?C+I:I;if(!this._events[c])return this;if(!g)return i(this,c),this;var d=this._events[c];if(d.fn)d.fn!==g||l&&!d.once||t&&d.context!==t||i(this,c);else{for(var n=0,Z=[],e=d.length;n<e;n++)(d[n].fn!==g||l&&!d[n].once||t&&d[n].context!==t)&&Z.push(d[n]);Z.length?this._events[c]=1===Z.length?Z[0]:Z:i(this,c)}return this},d.prototype.removeAllListeners=function(I){var g;return I?(g=C?C+I:I,this._events[g]&&i(this,g)):(this._events=new t,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=C,d.EventEmitter=d,I.exports=d})),function(){if("browser"!=("undefined"!=typeof window&&void 0!==window.document?"browser":"nodejs"))return null;function I(){return new t}function g(){var I,g,C=new Promise((function(){I=arguments[0],g=arguments[1]}));return C.resolve=I,C.reject=g,C}function l(){for(var I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,g=[],C="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),t=C.length,l=0;l<I;l++)g[l]=C[0|Math.random()*t];return g.join("")}var c,i=(c="CnVuZGVmaW5lZAoKdmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTt2YXIgZT0ib2JqZWN0Ij09dHlwZW9mIHQmJnQmJnQuT2JqZWN0PT09T2JqZWN0JiZ0LG49Im9iamVjdCI9PXR5cGVvZiBzZWxmJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixyPShlfHxufHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpKS5TeW1ib2w7dmFyIG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49LTEscj1udWxsPT10PzA6dC5sZW5ndGgsbz1BcnJheShyKTsrK248cjspb1tuXT1lKHRbbl0sbix0KTtyZXR1cm4gb30sZj1BcnJheS5pc0FycmF5LHU9T2JqZWN0LnByb3RvdHlwZSxpPXUuaGFzT3duUHJvcGVydHksYz11LnRvU3RyaW5nLGE9cj9yLnRvU3RyaW5nVGFnOnZvaWQgMDt2YXIgcz1mdW5jdGlvbih0KXt2YXIgZT1pLmNhbGwodCxhKSxuPXRbYV07dHJ5e3RbYV09dm9pZCAwO3ZhciByPSEwfWNhdGNoKHQpe312YXIgbz1jLmNhbGwodCk7cmV0dXJuIHImJihlP3RbYV09bjpkZWxldGUgdFthXSksb30sbD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO3ZhciB2PWZ1bmN0aW9uKHQpe3JldHVybiBsLmNhbGwodCl9LHA9cj9yLnRvU3RyaW5nVGFnOnZvaWQgMDt2YXIgZD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD92b2lkIDA9PT10PyJbb2JqZWN0IFVuZGVmaW5lZF0iOiJbb2JqZWN0IE51bGxdIjpwJiZwIGluIE9iamVjdCh0KT9zKHQpOnYodCl9O3ZhciBoPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10JiYib2JqZWN0Ij09dHlwZW9mIHR9O3ZhciB5PWZ1bmN0aW9uKHQpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgdHx8aCh0KSYmIltvYmplY3QgU3ltYm9sXSI9PWQodCl9LGI9cj9yLnByb3RvdHlwZTp2b2lkIDAsZz1iP2IudG9TdHJpbmc6dm9pZCAwO3ZhciBfPWZ1bmN0aW9uIHQoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBlO2lmKGYoZSkpcmV0dXJuIG8oZSx0KSsiIjtpZih5KGUpKXJldHVybiBnP2cuY2FsbChlKToiIjt2YXIgbj1lKyIiO3JldHVybiIwIj09biYmMS9lPT0tSW5maW5pdHk/Ii0wIjpufSxtPS9ccy87dmFyIHg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubGVuZ3RoO2UtLSYmbS50ZXN0KHQuY2hhckF0KGUpKTspO3JldHVybiBlfSxqPS9eXHMrLzt2YXIgdz1mdW5jdGlvbih0KXtyZXR1cm4gdD90LnNsaWNlKDAseCh0KSsxKS5yZXBsYWNlKGosIiIpOnR9O3ZhciBPPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0tMSxvPXQubGVuZ3RoO2U8MCYmKGU9LWU+bz8wOm8rZSksKG49bj5vP286bik8MCYmKG4rPW8pLG89ZT5uPzA6bi1lPj4+MCxlPj4+PTA7Zm9yKHZhciBmPUFycmF5KG8pOysrcjxvOylmW3JdPXRbcitlXTtyZXR1cm4gZn07dmFyIEE9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQubGVuZ3RoO3JldHVybiBuPXZvaWQgMD09PW4/cjpuLCFlJiZuPj1yP3Q6Tyh0LGUsbil9O3ZhciBTPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz10Lmxlbmd0aCxmPW4rKHI/MTotMSk7cj9mLS06KytmPG87KWlmKGUodFtmXSxmLHQpKXJldHVybiBmO3JldHVybi0xfTt2YXIgVD1mdW5jdGlvbih0KXtyZXR1cm4gdCE9dH07dmFyIEM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1uLTEsbz10Lmxlbmd0aDsrK3I8bzspaWYodFtyXT09PWUpcmV0dXJuIHI7cmV0dXJuLTF9O3ZhciBMPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZT09ZT9DKHQsZSxuKTpTKHQsVCxuKX07dmFyIFI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5sZW5ndGg7bi0tJiZMKGUsdFtuXSwwKT4tMTspO3JldHVybiBufTt2YXIgRT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0tMSxyPXQubGVuZ3RoOysrbjxyJiZMKGUsdFtuXSwwKT4tMTspO3JldHVybiBufTt2YXIgUD1mdW5jdGlvbih0KXtyZXR1cm4gdC5zcGxpdCgiIil9LGs9UmVnRXhwKCJbXFx1MjAwZFxcdWQ4MDAtXFx1ZGZmZlxcdTAzMDAtXFx1MDM2ZlxcdWZlMjAtXFx1ZmUyZlxcdTIwZDAtXFx1MjBmZlxcdWZlMGVcXHVmZTBmXSIpO3ZhciAkPWZ1bmN0aW9uKHQpe3JldHVybiBrLnRlc3QodCl9LE49IltcXHVkODAwLVxcdWRmZmZdIixGPSJbXFx1MDMwMC1cXHUwMzZmXFx1ZmUyMC1cXHVmZTJmXFx1MjBkMC1cXHUyMGZmXSIsST0iXFx1ZDgzY1tcXHVkZmZiLVxcdWRmZmZdIixVPSJbXlxcdWQ4MDAtXFx1ZGZmZl0iLHE9Iig/OlxcdWQ4M2NbXFx1ZGRlNi1cXHVkZGZmXSl7Mn0iLHo9IltcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl0iLEI9Iig/OiIrRisifCIrSSsiKSIrIj8iLEQ9IltcXHVmZTBlXFx1ZmUwZl0/IitCKygiKD86XFx1MjAwZCg/OiIrW1UscSx6XS5qb2luKCJ8IikrIilbXFx1ZmUwZVxcdWZlMGZdPyIrQisiKSoiKSxHPSIoPzoiK1tVK0YrIj8iLEYscSx6LE5dLmpvaW4oInwiKSsiKSIsSD1SZWdFeHAoSSsiKD89IitJKyIpfCIrRytELCJnIik7dmFyIEo9ZnVuY3Rpb24odCl7cmV0dXJuIHQubWF0Y2goSCl8fFtdfTt2YXIgSz1mdW5jdGlvbih0KXtyZXR1cm4gJCh0KT9KKHQpOlAodCl9O3ZhciBNPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10PyIiOl8odCl9O3ZhciBRLFY9ZnVuY3Rpb24odCxlLG4pe2lmKCh0PU0odCkpJiYobnx8dm9pZCAwPT09ZSkpcmV0dXJuIHcodCk7aWYoIXR8fCEoZT1fKGUpKSlyZXR1cm4gdDt2YXIgcj1LKHQpLG89SyhlKSxmPUUocixvKSx1PVIocixvKSsxO3JldHVybiBBKHIsZix1KS5qb2luKCIiKX0sVz0oZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxuPSJ+IjtmdW5jdGlvbiByKCl7fWZ1bmN0aW9uIG8odCxlLG4pe3RoaXMuZm49dCx0aGlzLmNvbnRleHQ9ZSx0aGlzLm9uY2U9bnx8ITF9ZnVuY3Rpb24gZih0LGUscixmLHUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKTt2YXIgaT1uZXcgbyhyLGZ8fHQsdSksYz1uP24rZTplO3JldHVybiB0Ll9ldmVudHNbY10/dC5fZXZlbnRzW2NdLmZuP3QuX2V2ZW50c1tjXT1bdC5fZXZlbnRzW2NdLGldOnQuX2V2ZW50c1tjXS5wdXNoKGkpOih0Ll9ldmVudHNbY109aSx0Ll9ldmVudHNDb3VudCsrKSx0fWZ1bmN0aW9uIHUodCxlKXswPT0tLXQuX2V2ZW50c0NvdW50P3QuX2V2ZW50cz1uZXcgcjpkZWxldGUgdC5fZXZlbnRzW2VdfWZ1bmN0aW9uIGkoKXt0aGlzLl9ldmVudHM9bmV3IHIsdGhpcy5fZXZlbnRzQ291bnQ9MH1PYmplY3QuY3JlYXRlJiYoci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShudWxsKSwobmV3IHIpLl9fcHJvdG9fX3x8KG49ITEpKSxpLnByb3RvdHlwZS5ldmVudE5hbWVzPWZ1bmN0aW9uKCl7dmFyIHQscixvPVtdO2lmKDA9PT10aGlzLl9ldmVudHNDb3VudClyZXR1cm4gbztmb3IociBpbiB0PXRoaXMuX2V2ZW50cyllLmNhbGwodCxyKSYmby5wdXNoKG4/ci5zbGljZSgxKTpyKTtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9vLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpKTpvfSxpLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24odCl7dmFyIGU9bj9uK3Q6dCxyPXRoaXMuX2V2ZW50c1tlXTtpZighcilyZXR1cm5bXTtpZihyLmZuKXJldHVybltyLmZuXTtmb3IodmFyIG89MCxmPXIubGVuZ3RoLHU9bmV3IEFycmF5KGYpO288ZjtvKyspdVtvXT1yW29dLmZuO3JldHVybiB1fSxpLnByb3RvdHlwZS5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKHQpe3ZhciBlPW4/bit0OnQscj10aGlzLl9ldmVudHNbZV07cmV0dXJuIHI/ci5mbj8xOnIubGVuZ3RoOjB9LGkucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCxlLHIsbyxmLHUpe3ZhciBpPW4/bit0OnQ7aWYoIXRoaXMuX2V2ZW50c1tpXSlyZXR1cm4hMTt2YXIgYyxhLHM9dGhpcy5fZXZlbnRzW2ldLGw9YXJndW1lbnRzLmxlbmd0aDtpZihzLmZuKXtzd2l0Y2gocy5vbmNlJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKHQscy5mbix2b2lkIDAsITApLGwpe2Nhc2UgMTpyZXR1cm4gcy5mbi5jYWxsKHMuY29udGV4dCksITA7Y2FzZSAyOnJldHVybiBzLmZuLmNhbGwocy5jb250ZXh0LGUpLCEwO2Nhc2UgMzpyZXR1cm4gcy5mbi5jYWxsKHMuY29udGV4dCxlLHIpLCEwO2Nhc2UgNDpyZXR1cm4gcy5mbi5jYWxsKHMuY29udGV4dCxlLHIsbyksITA7Y2FzZSA1OnJldHVybiBzLmZuLmNhbGwocy5jb250ZXh0LGUscixvLGYpLCEwO2Nhc2UgNjpyZXR1cm4gcy5mbi5jYWxsKHMuY29udGV4dCxlLHIsbyxmLHUpLCEwfWZvcihhPTEsYz1uZXcgQXJyYXkobC0xKTthPGw7YSsrKWNbYS0xXT1hcmd1bWVudHNbYV07cy5mbi5hcHBseShzLmNvbnRleHQsYyl9ZWxzZXt2YXIgdixwPXMubGVuZ3RoO2ZvcihhPTA7YTxwO2ErKylzd2l0Y2goc1thXS5vbmNlJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKHQsc1thXS5mbix2b2lkIDAsITApLGwpe2Nhc2UgMTpzW2FdLmZuLmNhbGwoc1thXS5jb250ZXh0KTticmVhaztjYXNlIDI6c1thXS5mbi5jYWxsKHNbYV0uY29udGV4dCxlKTticmVhaztjYXNlIDM6c1thXS5mbi5jYWxsKHNbYV0uY29udGV4dCxlLHIpO2JyZWFrO2Nhc2UgNDpzW2FdLmZuLmNhbGwoc1thXS5jb250ZXh0LGUscixvKTticmVhaztkZWZhdWx0OmlmKCFjKWZvcih2PTEsYz1uZXcgQXJyYXkobC0xKTt2PGw7disrKWNbdi0xXT1hcmd1bWVudHNbdl07c1thXS5mbi5hcHBseShzW2FdLmNvbnRleHQsYyl9fXJldHVybiEwfSxpLnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGYodGhpcyx0LGUsbiwhMSl9LGkucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmKHRoaXMsdCxlLG4sITApfSxpLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0LGUscixvKXt2YXIgZj1uP24rdDp0O2lmKCF0aGlzLl9ldmVudHNbZl0pcmV0dXJuIHRoaXM7aWYoIWUpcmV0dXJuIHUodGhpcyxmKSx0aGlzO3ZhciBpPXRoaXMuX2V2ZW50c1tmXTtpZihpLmZuKWkuZm4hPT1lfHxvJiYhaS5vbmNlfHxyJiZpLmNvbnRleHQhPT1yfHx1KHRoaXMsZik7ZWxzZXtmb3IodmFyIGM9MCxhPVtdLHM9aS5sZW5ndGg7YzxzO2MrKykoaVtjXS5mbiE9PWV8fG8mJiFpW2NdLm9uY2V8fHImJmlbY10uY29udGV4dCE9PXIpJiZhLnB1c2goaVtjXSk7YS5sZW5ndGg/dGhpcy5fZXZlbnRzW2ZdPTE9PT1hLmxlbmd0aD9hWzBdOmE6dSh0aGlzLGYpfXJldHVybiB0aGlzfSxpLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQ/KGU9bj9uK3Q6dCx0aGlzLl9ldmVudHNbZV0mJnUodGhpcyxlKSk6KHRoaXMuX2V2ZW50cz1uZXcgcix0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzfSxpLnByb3RvdHlwZS5vZmY9aS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIsaS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9aS5wcm90b3R5cGUub24saS5wcmVmaXhlZD1uLGkuRXZlbnRFbWl0dGVyPWksdC5leHBvcnRzPWl9KFE9e2V4cG9ydHM6e319LFEuZXhwb3J0cyksUS5leHBvcnRzKTtmdW5jdGlvbiBnV29ya2VyNF9GdW5Fdih0LGUpe2xldCBuPW5ldyBXO2FzeW5jIGZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gbi5lbWl0KCJldi1kZGQiLGBlbWl0IGRhdGEgcDE9JyR7dH0nLCBwMj0nJHtlfSdgKSwiZGRkUmVzIGVtaXQtZXZlbnQifXJldHVybiBzZXRUaW1lb3V0KCgoKT0+e3IoYCR7dH1+JHtlfWAsImNhbGwgYnkgc2V0VGltZW91dCgxMDAwbXMpIil9KSwxZTMpLG4uYWFhPWFzeW5jIGZ1bmN0aW9uKHQpe3JldHVybiJhYWFSZXMgcCBbIit0KyJdIHAiK1YoIiBbdHJpbV0gIil9LG4uYmJiPWFzeW5jIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ8PWU/ImJiYlJlcyBwMTw9cDIiOlByb21pc2UucmVqZWN0KCJiYmJSZXMgcDE+cDIiKX0sbi5jY2M9YXN5bmMgZnVuY3Rpb24odCl7bGV0IGU9MTtmb3IobGV0IG49MDtuPHQ7bisrKWUrPTEsZS09MSxlKj01LjUsZS89NS41O3JldHVybiJuby49Iit0KyIsIHI9IitlfSxuLmRkZD1yLG59CgpsZXQgaW5zdGFuY2UgPSBudWxsCmZ1bmN0aW9uIGluaXQoaW5wdXQpewoKICAgIC8vaW5pdAogICAgbGV0IHIKICAgIAogICAgICAgIHIgPSBnV29ya2VyNF9GdW5FdiguLi5pbnB1dCkKICAgICAgICAKCiAgICAvL29uCiAgICAKCiAgICByLm9uKCdldi1kZGQnLChtc2cpID0+IHsKCiAgICAgICAgLy9zZW5kTWVzc2FnZQogICAgICAgIGxldCByZXMgPSB7CiAgICAgICAgICAgIG1vZGU6ICdlbWl0JywKICAgICAgICAgICAgZXZOYW1lOiAnZXYtZGRkJywKICAgICAgICAgICAgbXNnLAogICAgICAgIH0KICAgICAgICBzZW5kTWVzc2FnZShyZXMpCgogICAgfSkKCgoKICAgIC8vc2F2ZQogICAgaW5zdGFuY2UgPSByCgp9CgpmdW5jdGlvbiBzZW5kTWVzc2FnZShkYXRhKSB7CiAgICAKICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKGRhdGEpCiAgICAgICAgCn0KCmFzeW5jIGZ1bmN0aW9uIHJ1bihkYXRhKSB7CiAgICAvLyBjb25zb2xlLmxvZygnaW5uZXIgd29ya2VyIHJ1bicsZGF0YSkKCiAgICAvL21vZGUKICAgIGxldCBtb2RlID0gZGF0YS5tb2RlCgogICAgLy9jaGVjawogICAgaWYobW9kZSAhPT0gJ2luaXQnICYmIG1vZGUgIT09ICdjYWxsJyl7CiAgICAgICAgcmV0dXJuCiAgICB9CgogICAgLy9pbml0CiAgICBpZihtb2RlID09PSAnaW5pdCcpewogICAgICAgIAogICAgICAgIHRyeXsKCiAgICAgICAgICAgIC8vdHlwZQogICAgICAgICAgICBsZXQgdHlwZSA9IGRhdGEudHlwZQoKICAgICAgICAgICAgLy9pbnB1dAogICAgICAgICAgICBsZXQgaW5wdXQgPSBkYXRhLmlucHV0CiAgICAKICAgICAgICAgICAgLy9pbnN0YW5jZQogICAgICAgICAgICBpZih0eXBlID09PSAnZnVuY3Rpb24nKXsKICAgICAgICAgICAgICAgIGluaXQoLi4uaW5wdXQpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZih0eXBlID09PSAnb2JqZWN0Jyl7CiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IGdXb3JrZXI0X0Z1bkV2CiAgICAgICAgICAgIH0KCiAgICAgICAgfQogICAgICAgIGNhdGNoKGVycil7CiAgICAgICAgCiAgICAgICAgICAgIC8vc2VuZE1lc3NhZ2UKICAgICAgICAgICAgbGV0IHJlcyA9IHsKICAgICAgICAgICAgICAgIG1vZGU6ICdlbWl0JywKICAgICAgICAgICAgICAgIGV2TmFtZTogJ2Vycm9yJywKICAgICAgICAgICAgICAgIG1zZzogZXJyLAogICAgICAgICAgICB9CiAgICAgICAgICAgIHNlbmRNZXNzYWdlKHJlcykKCiAgICAgICAgfQogICAgICAgICAgICAKICAgIH0KCiAgICAvL2NoZWNrCiAgICBpZihtb2RlID09PSAnY2FsbCcpewogICAgICAgIGxldCBzdGF0ZSA9ICcnCiAgICAgICAgbGV0IG1zZyA9IG51bGwKCiAgICAgICAgdHJ5ewoKICAgICAgICAgICAgLy9mdW4KICAgICAgICAgICAgbGV0IGZ1biA9IGluc3RhbmNlW2RhdGEuZnVuXQoKICAgICAgICAgICAgLy9pbnB1dAogICAgICAgICAgICBsZXQgaW5wdXQgPSBkYXRhLmlucHV0CgogICAgICAgICAgICAvL2V4ZWMKICAgICAgICAgICAgYXdhaXQgZnVuKC4uLmlucHV0KQogICAgICAgICAgICAgICAgLnRoZW4oKHN1YykgPT4gewogICAgICAgICAgICAgICAgICAgIHN0YXRlPSdzdWNjZXNzJwogICAgICAgICAgICAgICAgICAgIG1zZz1zdWMKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgICAgICAgIHN0YXRlPSdlcnJvcicKICAgICAgICAgICAgICAgICAgICBtc2c9ZXJyCiAgICAgICAgICAgICAgICB9KQoKICAgICAgICB9CiAgICAgICAgY2F0Y2goZXJyKXsKICAgICAgICAgICAgc3RhdGUgPSAnZXJyb3InCiAgICAgICAgICAgIG1zZyA9IGVycgogICAgICAgIH0KICAgICAgICAKICAgICAgICAvL3NlbmRNZXNzYWdlCiAgICAgICAgbGV0IHJlcyA9IHsKICAgICAgICAgICAgbW9kZTogJ3JldHVybicsCiAgICAgICAgICAgIGlkOiBkYXRhLmlkLAogICAgICAgICAgICBmdW46IGRhdGEuZnVuLAogICAgICAgICAgICBzdGF0ZSwKICAgICAgICAgICAgbXNnLAogICAgICAgIH0KICAgICAgICBzZW5kTWVzc2FnZShyZXMpCgogICAgfQoKfQoKZnVuY3Rpb24gcmVjdk1lc3NhZ2UoZGF0YSkgewogICAgLy8gY29uc29sZS5sb2coJ2lubmVyIHdvcmtlciByZWN2OicsIGRhdGEpCgogICAgLy9kYXRhUmVjdgogICAgbGV0IGRhdGFSZWN2ID0gZGF0YQoKICAgIC8vcnVuCiAgICBydW4oZGF0YVJlY3YpCgp9CgoKICAgICAgICBzZWxmLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJlY3ZNZXNzYWdlKGUuZGF0YSkKICAgICAgICB9CiAgICAgICAgCgo=",window.atob(c));C=function(){var C=I();function t(I){try{var g=new Blob([I]),C=window.URL||window.webkitURL;return new Worker(C.createObjectURL(g))}catch(I){o(I)}}var c=t(i);if(!c)return o("invalid worker"),null;function d(){c?(c.terminate(),c=void 0):o("worker has been terminated")}function n(){var I={mode:"init",type:"function",input:Array.prototype.slice.call(arguments)};c.postMessage(I)}function Z(){var I=g(),t=l(),i={mode:"call",id:t,fun:"aaa",input:Array.prototype.slice.call(arguments)};return c.postMessage(i),C.once(t,(function(g){"success"===g.state?I.resolve(g.msg):I.reject(g.msg)})),I}function e(){var I=g(),t=l(),i={mode:"call",id:t,fun:"bbb",input:Array.prototype.slice.call(arguments)};return c.postMessage(i),C.once(t,(function(g){"success"===g.state?I.resolve(g.msg):I.reject(g.msg)})),I}function m(){var I=g(),t=l(),i={mode:"call",id:t,fun:"ccc",input:Array.prototype.slice.call(arguments)};return c.postMessage(i),C.once(t,(function(g){"success"===g.state?I.resolve(g.msg):I.reject(g.msg)})),I}function b(){var I=g(),t=l(),i={mode:"call",id:t,fun:"ddd",input:Array.prototype.slice.call(arguments)};return c.postMessage(i),C.once(t,(function(g){"success"===g.state?I.resolve(g.msg):I.reject(g.msg)})),I}function A(I){var g=I,t=g.mode;"emit"!==t&&"return"!==t||("emit"===t&&C.emit(g.evName,g.msg),"return"===t&&C.emit(g.id,g))}function o(I){C.emit("error",I)}return c.onmessage=function(I){A(I.data)},c.onerror=o,n(Array.prototype.slice.call(arguments)),C.aaa=Z,C.bbb=e,C.ccc=m,C.ddd=b,C.terminate=d,C}}(),C)}));return"undefined"!=typeof window&&void 0!==window.document?c:l}));
